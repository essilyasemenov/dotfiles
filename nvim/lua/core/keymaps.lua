  vim.g.mapleader = " "  -- пробел как leader key

  local map = vim.keymap.set

  -- ╭─────────────────────────────────────────╮
  -- │           Основные удобства             │
  -- ╰─────────────────────────────────────────╯

  -- Сохранить файл через Ctrl+S (привычнее для новичков)
  map("n", "<C-s>", ":w<CR>", { desc = "Сохранить файл" })

  -- Выйти из режима вставки через jk (быстрее чем тянуться до Esc)
  map("i", "jk", "<Esc>", { desc = "Выйти из Insert mode" })

  -- Убрать подсветку поиска после того как нашёл что нужно
  map("n", "<Esc>", ":nohlsearch<CR>", { desc = "Убрать подсветку поиска" })

  -- ╭─────────────────────────────────────────╮
  -- │         Навигация по окнам              │
  -- ╰─────────────────────────────────────────╯

  -- Переключение между разделёнными окнами (сплитами)
  -- Вместо Ctrl+W+H/J/K/L — просто Ctrl+H/J/K/L
  map("n", "<C-h>", "<C-w>h", { desc = "Окно влево" })
  map("n", "<C-j>", "<C-w>j", { desc = "Окно вниз" })
  map("n", "<C-k>", "<C-w>k", { desc = "Окно вверх" })
  map("n", "<C-l>", "<C-w>l", { desc = "Окно вправо" })

  -- ╭─────────────────────────────────────────╮
  -- │           Работа с буферами             │
  -- ╰─────────────────────────────────────────╯

  -- Буфер = открытый файл в памяти (как вкладка, но не совсем)
  map("n", "<Tab>", ":bnext<CR>", { desc = "Следующий буфер" })
  map("n", "<S-Tab>", ":bprev<CR>", { desc = "Предыдущий буфер" })
  map("n", "<leader>x", ":bdelete<CR>", { desc = "Закрыть буфер" })

  -- ╭─────────────────────────────────────────╮
  -- │         Удобства при редактировании     │
  -- ╰─────────────────────────────────────────╯

  -- Перемещение выделенных строк вверх/вниз в Visual mode
  map("v", "J", ":m '>+1<CR>gv=gv", { desc = "Переместить строку вниз" })
  map("v", "K", ":m '<-2<CR>gv=gv", { desc = "Переместить строку вверх" })

  -- Остаться в Visual mode после изменения отступа (по умолчанию выходит)
  map("v", "<", "<gv", { desc = "Уменьшить отступ" })
  map("v", ">", ">gv", { desc = "Увеличить отступ" })

  -- Вставить без потери буфера обмена (не затирает то что скопировал)
  map("v", "p", '"_dP', { desc = "Вставить без потери буфера" })
